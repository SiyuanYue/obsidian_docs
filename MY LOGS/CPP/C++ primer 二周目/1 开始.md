## 1.1
### 类型
**类型**是程序设计最基本的概念之 ⼀，在本书中我们会反复遇到它。*⼀种类型不仅定义了数据元素的内容，还定义了这类数据上可以进⾏的运算*。（运算符重载？）
> 这个关于类型和这类数据上进行运算的说法想到了群论。

程序所处理的数据都保存在变量中，⽽每个变量都有⾃⼰的类型。如果⼀个名为v的变量的类型为T，我们通常说“V具有类型T”，或等价的，“ v是⼀个T类型变量 ” 。

---

### 迅速查看返回值
访问 main的返回值的 ⽅ 法依赖于系统。在Unix 或Win系统中，执 ⾏ 完 ⼀ 个程序后，都可以通过echo命令获得其返回值。
在UNIX系统中，通过如下命令获得状态 ：
`$ echo $?`
在Win系统中查看状态可键 ⼊ ：
`$ echo %ERRORLEVEL%`


## 1.2 初始输入和输出

本书中的很多示例都使用了iostream库。iostream库包含两个基础类型istream和ostream，分别表示输入流和输出流。
一个流就是一个**字符**序列，是从IO设备读出或写入IO设备的。术语“流”（stream）想要表达的是，*随着时间的推移，字符是顺序生成或消耗的*。

> [!TIP]
>  **关于字符编码与字节的区别**
>  char 类型对应的字符就是ASCII 编码的字符
>  UTF-8 已成为国际上使用最广泛的 Unicode 编码方法。**它是一种可变长度的编码**，使用 1 到 4 字节来表示一个字符，根据字符的复杂性而变。ASCII 字符只需 1 字节，拉丁字母和希腊字母需要 2 字节，常用的中文字符需要 3 字节，其他的一些生僻字符需要 4 字节。
>  UTF-8 的编码规则并不复杂，分为以下两种情况。
> 	  1.  对于长度为 1 字节的字符，将最高位设置为，其余 7 位设置为 Unicode 码点。值得注意的是，ASCII 字符在 Unicode 字符集中占据了前 128 个码点。也就是说，**UTF-8 编码可以向下兼容 ASCII 码**。这意味着我们可以使用 UTF-8 来解析年代久远的 ASCII 码文本。
> 	  2. 对于长度为字节的字符（其中 ），将首个字节的高位都设置为，第位设置为；从第二个字节开始，将每个字节的高 2 位都设置为；其余所有位用于填充字符的 Unicode 码点。
>    refs：
>     [字符编码 ](https://www.hello-algo.com/chapter_data_structure/character_encoding/#343-unicode)
>     [ASCII 码表 - cppreference.com](https://zh.cppreference.com/w/cpp/language/ascii)


一个表达式产生一个计算结果，它由一个或多个运算对象和（通常是）一个运算符组成。这条语句中的表达式使用了输出运算符（<<）在标准输出上打印消息：
`std::cout<<"..."<<std::endl;`
<<运算符接受两个运算对象：左侧的运算对象必须是一个*ostream对象*，右侧的运算对象是要打印的值。此运算符将给定的值写到给定的ostream对象中。*输出运算符的计算结果就是其左侧运算对象*。即，计算结果就是我们写入给定值的那个ostream对象。
我们的输出语句使用了两次<<运算符。**因为此运算符返回其左侧的运算对象，因此第一个运算符的结果成为了第二个运算符的左侧运算对象**。这样，我们就可以将输出请求**连接**起来。因此，我们的表达式等价:
`(std::cout<<"...")<<std::endl;`
 
3.1节（第74页）将给出一个更简单的访问标准库中名字的方法

`std::cin>>v1>>v2;`
输入运算符（>>）与输出运算符类似，它接受一个istream作为其左侧运算对象，接受一个对象作为其右侧运算对象。它从给定的istream读入数据，并存入给定对象中。与输出运算符类似，输入运算符返回其左侧运算对象作为其计算结果。
于此运算符返回其左侧运算对象，因此我们可以将一系列输入请求合并到单一语句中。本例中的输入操作从std：：cin读入两个值，并将第一个值存入v1，将第二个值存入v2。

打印计算结果
`std::cout<<"the sum of"<<v1<<" and "<<v2<<" is "<<v1+v2<<std::endl;`
这条语句虽然比提示用户输入的打印语句更长，但原理上是一样的，它将每个运算对象打印在标准输出上。本例一个有意思的地方在于，*运算对象并不都是相同类型的值*。某些运算对象是字符串字面值常量，例如"The sum of "。其他运算对象则是int值，如v1、v2以及算术表达式v1+v2的计算结果。*标准库定义了不同版本的输入输出运算符，来处理这些不同类型的运算对象*。  ---**运算符重载**

## 1.4 控制流
### 1.4.3 读取数量不定的输入数据
数据读取操作是在while的循环条件中完成的：
`while(std::cin>>value)`
while循环条件的求值就是执行表达式
`std::cin>>value`
此表达式从标准输入读取下一个数，保存在value中。输入运算符（参见1.2节，第7页）返回其左侧运算对象，在本例中是 `std::cin`。因此，此循环条件实际上检测的是 `std::cin`。
当我们使用一个istream对象作为条件时，其效果是检测流的状态。如果流是有效的，即流未遇到错误，那么检测成功。当遇到文件结束符（end-of-file），或遇到一个无效输入时（例如读入的值不是一个整数），istream对象的状态会变为无效。处于无效状态的istream对象会使条件变为假。
因此，我们的while循环会一直执行直至遇到文件结束符（或输入错误）。while循环体使用复合赋值运算符将当前值加到sum上。一旦条件失败，while循环将会结束。我们将执行下一条语句，打印sum的值和一个endl。

>[!Wow]
>从键盘输入文件结束符
当从键盘向程序输入数据时，对于如何指出文件结束，不同操作系统有不同的约定。在Windows系统中，输入文件结束符的方法是敲Ctrl+Z（按住Ctrl键的同时按Z键），然后按Enter或Return键。在UNIX系统中，包括Mac OS X系统中，文件结束符输入是用Ctrl+D。


## 1.5 类简介

**类定义了行为**。一般而言，类的作者决定了类类型对象上可以使用的所有操作。当前，我们所知道的可以在Salesitem对象上执行的全部操作就是本节所列出的那些操作。
### 文件重定向
当你测试程序时，反复从键盘敲入这些销售记录作为程序的输入，是非常乏味的。大多数操作系统支持文件重定向，这种机制允许我们将标准输入和标准输出与命名文件关联起来：
`$ addItems <infile >outfile`
假定$是操作系统提示符，我们的加法程序已经编译为名为addItems.exe的可执行文件（在UNIX中是addItems），则上述命令会从一个名为infile的文件读取销售记录，并将输出结果写入到一个名为outfile的文件中，两个文件都位于当前目录中。

## 小结与术语表
赋值（assignment）：抹去一个对象的当前值，用一个新值取代之。
缓冲区（buffer）：一个存储区域，用于保存数据。IO设施通常将输入（或输出）数据保存在一个缓冲区中，读写缓冲区的动作与程序中的动作是无关的。我们可以显式地刷新输出缓冲，以便强制将缓冲区中的数据写入输出设备。默认情况下，读cin会刷新cout；程序非正常终止时也会刷新cout。
初始化（initialize）：在一个对象创建的时候赋予它一个值。
字符串常量（string literal）：*零或多个字符*组成的序列，用双引号包围（"a string literal"）。
未初始化的变量（uninitialized variable）未赋予初值的变量。*类类型*的变量如果未指定初值，则按类定义指定的方式进行初始化。定义在*函数内部的内置类型变量*（非全局/static 变量，全局会默认为0，存在bss 段）默认是不初始化的，除非有显式的初始化语句。试图使用一个未初始化变量的值是错误的。未初始化变量是bug的常见成因。
表达式（expression）：最小的计算单元。一个表达式包含一个或多个*运算对象*，通常还包含一个或多个**运算符**。表达式求值会产生一个结果。例如，假设i和j是int对象，则i+j是一个表达式，它产生两个int值的和。
语句（statement）：程序的一部分，指定了当程序执行时进行什么动作。**一个表达式接一个分号就是一条语句**；其他类型的语句包括语句块、if语句、for语句和while语句，所有这些语句内都包含其他语句。

